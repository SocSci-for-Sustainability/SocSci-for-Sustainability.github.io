<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>3&nbsp; Social Diffusion – Social Science for Sustainability</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./cooperation.html" rel="next">
<link href="./quantitative-techniques.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-50f792bb6489d9fd35268808da1062ac.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-0266a3854a12a4c572e0b4fea672f787.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-877c8715723ebbeaed18b14f74051d3c.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-b60a5dc78b9d5197f898d7ae6e50d491.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<!-- header.html -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500;600;700&amp;family=Source+Code+Pro:wght@400;500;600;700&amp;display=swap">

<script>
document.addEventListener('DOMContentLoaded', function () {
  const buttons = document.querySelectorAll('[data-bs-toggle="popover"]');

  buttons.forEach(btn => {
    const url = btn.getAttribute('data-url');

    if (url) {
      fetch(url)
        .then(response => response.text())
        .then(html => {
          btn.setAttribute('data-bs-content', html);

          // Create the popover AFTER content is loaded
          new bootstrap.Popover(btn);
        });
    } else {
      // Fallback for inline content
      new bootstrap.Popover(btn);
    }
  });
});
</script>


  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Social Science for Sustainability</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://SocSci-for-Sustainability.github.io/lecture-notes"> 
<span class="menu-text">Lecture Notes</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://matphd.substack.com"> 
<span class="menu-text">Subscribe</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./curriculum.html"> 
<span class="menu-text">Curriculum</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./diffusion.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Social Diffusion</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      <img src="./SS4S.key.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quantitative-techniques.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Quantitative Techniques</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./diffusion.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Social Diffusion</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cooperation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Cooperative conservation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./about.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./curriculum.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Curriculum &amp; Syllabi</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./syllabus-introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1. <em>Introduction to Social Science for Sustainability</em></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./syllabus-agent-based-modeling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2. <em>Agent-based Modeling</em></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./syllabus-opinion-change.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3. <em>Opinion Change: Modeling and Measurement</em></span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">3.1</span> Introduction</a>
  <ul class="collapse">
  <li><a href="#introducing-the-prevalence-dynamic" id="toc-introducing-the-prevalence-dynamic" class="nav-link" data-scroll-target="#introducing-the-prevalence-dynamic"><span class="header-section-number">3.1.1</span> Introducing The Prevalence Dynamic</a></li>
  <li><a href="#social-learning-models" id="toc-social-learning-models" class="nav-link" data-scroll-target="#social-learning-models"><span class="header-section-number">3.1.2</span> Social Learning Models</a></li>
  <li><a href="#model-implementations" id="toc-model-implementations" class="nav-link" data-scroll-target="#model-implementations"><span class="header-section-number">3.1.3</span> Model Implementations</a></li>
  <li><a href="#chapter-overview" id="toc-chapter-overview" class="nav-link" data-scroll-target="#chapter-overview"><span class="header-section-number">3.1.4</span> Chapter Overview</a></li>
  </ul></li>
  <li><a href="#prevalence-dynamic" id="toc-prevalence-dynamic" class="nav-link" data-scroll-target="#prevalence-dynamic"><span class="header-section-number">3.2</span> Prevalence Dynamic</a>
  <ul class="collapse">
  <li><a href="#the-prevalence-dynamic" id="toc-the-prevalence-dynamic" class="nav-link" data-scroll-target="#the-prevalence-dynamic"><span class="header-section-number">3.2.1</span> The Prevalence Dynamic</a></li>
  <li><a href="#formal-models-of-diffusion" id="toc-formal-models-of-diffusion" class="nav-link" data-scroll-target="#formal-models-of-diffusion"><span class="header-section-number">3.2.2</span> Formal models of diffusion</a></li>
  <li><a href="#measuring-collective-adaptation" id="toc-measuring-collective-adaptation" class="nav-link" data-scroll-target="#measuring-collective-adaptation"><span class="header-section-number">3.2.3</span> Measuring Collective Adaptation</a></li>
  </ul></li>
  <li><a href="#applications" id="toc-applications" class="nav-link" data-scroll-target="#applications"><span class="header-section-number">3.3</span> Applications</a>
  <ul class="collapse">
  <li><a href="#comparing-prevalence-dynamics-across-learning-models" id="toc-comparing-prevalence-dynamics-across-learning-models" class="nav-link" data-scroll-target="#comparing-prevalence-dynamics-across-learning-models"><span class="header-section-number">3.3.1</span> Comparing Prevalence Dynamics Across Learning Models</a></li>
  <li><a href="#minoritymajority-asymmetry-without-networks" id="toc-minoritymajority-asymmetry-without-networks" class="nav-link" data-scroll-target="#minoritymajority-asymmetry-without-networks"><span class="header-section-number">3.3.2</span> Minority–Majority Asymmetry Without Networks</a></li>
  <li><a href="#preview-transmission-in-social-networks" id="toc-preview-transmission-in-social-networks" class="nav-link" data-scroll-target="#preview-transmission-in-social-networks"><span class="header-section-number">3.3.3</span> Preview: Transmission in Social Networks</a></li>
  </ul></li>
  <li><a href="#discussion" id="toc-discussion" class="nav-link" data-scroll-target="#discussion"><span class="header-section-number">3.4</span> Discussion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Social Diffusion</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>This chapter introduces how behaviors spread through social learning and why this process is central to sustainability. We begin by framing behavior diffusion in terms of <em>prevalence</em> — the fraction of people in a population practicing a behavior — and show how different learning rules (contagion, conformity, success-bias) can be expressed within a single mathematical framework, the prevalence dynamic. We then show how to measure collective adaptation through outcome measures such as success rate and time to fixation, using computational experiments. Applications demonstrate how this framework clarifies the strengths and weaknesses of different learning rules, why conformity cannot drive adaptation by itself, and why minority groups play an essential role in sustainability. The chapter closes with a preview of diffusion in networks, setting the stage for the following chapter.</p>
<section id="introduction" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">3.1</span> Introduction</h2>
<p>Sustainable action, whether it is adopting renewable energy, changing agricultural practices, or reducing inequality, is ultimately a matter of how behaviors spread. Behaviors spread because people learn from one another. This process of <strong>social learning over time is the fundamental mechanism of collective adaptation</strong>.</p>
<p>Collective adaptation is represented in terms of the <em>prevalence</em> of a sustainable <em>adaptation</em> — the fraction of people in a population who practice the adaptive behavior. To quantify the effects of different social, cognitive, and ecological factors on adaptation prevalence we need a way to mathematically describe how people learn from each other over time.</p>
<section id="introducing-the-prevalence-dynamic" class="level3" data-number="3.1.1">
<h3 data-number="3.1.1" class="anchored" data-anchor-id="introducing-the-prevalence-dynamic"><span class="header-section-number">3.1.1</span> Introducing The Prevalence Dynamic</h3>
<p>The prevalence dynamic represents collective adaptation (or maladaptation) as the aggregation of individual-level behavior decisions. At its core, the prevalence dynamic tracks two probabilities: the chance that a person switches from the legacy behavior to the adaptive behavior (<strong>adoption probability</strong>) and the chance that a person switches back from the adaptive to the legacy behavior (<strong>drop probability</strong>). By combining these probabilities with the current prevalence of each behavior, we obtain a dynamic description of how behavior spreads in a population.</p>
</section>
<section id="social-learning-models" class="level3" data-number="3.1.2">
<h3 data-number="3.1.2" class="anchored" data-anchor-id="social-learning-models"><span class="header-section-number">3.1.2</span> Social Learning Models</h3>
<p>We represent learning and behavior choice, the benefits of behaviors, and the passage of time in different ways to create different <em>models</em> of social behavior. Different models are formed by making strategic choices of sub-models that represent parts of the behavior diffusion process. A given behavior diffusion model is identified by its particular choices for sub-models. Abstract diffusion models can then be identified along theoretical “dimensions.”</p>
<p>One of the major theoretical dimensions for modeling behavior diffusion is the <em>social learning model</em> itself. Social learning can take many complex forms operating in vastly different ways. However, we focus on three idealized models at this point, labeled to help us “index” different diffusion processes: <em>contagion</em> (a learner “catches” a behavior for whatever reason), <em>conformity</em> (learners are more likely to adopt the behavior that seems most common), and <em>success-biased</em> partner selection (learners prefer successful teachers).</p>
<p>The other theoretical dimension is the <em>population structure</em>. Model population structure is defined by the population’s (1) size and group sizes, and (2) interaction structure — who can learn from whom — which can be encoded in a model <em>social network</em>.</p>
<section id="comparison-of-learning-models" class="level4">
<h4 class="anchored" data-anchor-id="comparison-of-learning-models">Comparison of Learning Models</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 21%">
<col style="width: 21%">
<col style="width: 20%">
<col style="width: 14%">
<col style="width: 21%">
</colgroup>
<thead>
<tr class="header">
<th>Learning model</th>
<th>Core intuition</th>
<th>Adoption rule</th>
<th>Drop rule</th>
<th>Key limitation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Contagion</strong></td>
<td>Behaviors spread like infections</td>
<td><span class="math inline">\(P(A \mid L) = \alpha a\)</span></td>
<td><span class="math inline">\(P(L \mid A) = \delta\)</span></td>
<td>Captures “catchiness” but ignores success or prestige</td>
</tr>
<tr class="even">
<td><strong>Success-biased</strong></td>
<td>People copy the more successful</td>
<td><span class="math inline">\(P(A \mid L) \propto af_A\)</span></td>
<td><span class="math inline">\(P(L \mid A) \propto (1-a) f_L\)</span></td>
<td>Requires defining and measuring success</td>
</tr>
<tr class="odd">
<td><strong>Conformity</strong></td>
<td>People join the majority</td>
<td><span class="math inline">\(P(A \mid L) \propto a^{1+\gamma}\)</span></td>
<td><span class="math inline">\(P(L \mid A) \propto (1-a)^{1+\gamma}\)</span></td>
<td>Cannot spread initially rare behaviors; fixation only by drift</td>
</tr>
</tbody>
</table>
<p>Here “adoption probability” means the chance that someone currently practicing the legacy behavior switches to the adaptive behavior, while “drop probability” means the chance that someone currently practicing the adaptive behavior reverts to the legacy behavior.</p>
</section>
</section>
<section id="model-implementations" class="level3" data-number="3.1.3">
<h3 data-number="3.1.3" class="anchored" data-anchor-id="model-implementations"><span class="header-section-number">3.1.3</span> Model Implementations</h3>
<p>Each learning model can be implemented in different mathematical ways, depending on how we represent the population and how much randomness we allow. These implementations are summarized in the next table.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 19%">
<col style="width: 13%">
<col style="width: 28%">
<col style="width: 24%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th>Implementation</th>
<th>Formalism</th>
<th>Population assumption</th>
<th>What it shows best</th>
<th>Limitation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Deterministic Prevalence Dynamic (DPD)</strong></td>
<td>Differential equations</td>
<td>Large N, well-mixed</td>
<td>Mean-field dynamics; limiting cases</td>
<td>Ignores stochasticity and structure</td>
</tr>
<tr class="even">
<td><strong>Stochastic Prevalence Dynamic (SPD)</strong></td>
<td>Markov / diffusion approximations</td>
<td>Finite N, well-mixed</td>
<td>Fixation probability; role of drift</td>
<td>Harder to solve analytically</td>
</tr>
<tr class="odd">
<td><strong>Agent-based Prevalence Dynamic (APD)</strong></td>
<td>Explicit agents and interactions</td>
<td>Any N; can include networks</td>
<td>Flexibility, heterogeneity, emergent dynamics</td>
<td>Computationally intensive; harder to generalize</td>
</tr>
</tbody>
</table>
</section>
<section id="chapter-overview" class="level3" data-number="3.1.4">
<h3 data-number="3.1.4" class="anchored" data-anchor-id="chapter-overview"><span class="header-section-number">3.1.4</span> Chapter Overview</h3>
<p>In Section 2, we introduce the <em>prevalence dynamic</em>, a simple way of describing behavior change over time in terms of math. We show how the same framework can capture different learning rules — contagion, success-biased learning, and conformity — by specifying their adoption and drop probabilities. These probabilities are written as functions of the <em>current prevalence</em> of each behavior, since learning requires others to be present who already practice the behavior and can serve as models. In this way, prevalence itself drives the dynamics.</p>
<p>In Section 3, we use these models to explore applications to sustainability. We begin with exemplary applications: comparing prevalence dynamics with different learning models, analyzing why conformity can only lead to fixation through drift, and extending the framework to cases with minority and majority groups. Even these simplified models provide important lessons: collective adaptation works best when people are educated to evaluate the benefits and risks of different behaviors; collective adaptation can never happen through conformity alone if adaptive behaviors are initially rare; and minority groups must be included as participants and highlighted as leaders in sustainability interventions. To understand more specific questions, like how social network structure affects diffusion, we will need additional techniques, which we take up in subsequent chapters.</p>
<p>The chapter closes by reflecting on what these different learning rules mean for promoting sustainable practices in the real world, emphasizing when and how social learning can help collective action succeed.</p>
</section>
</section>
<section id="prevalence-dynamic" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="prevalence-dynamic"><span class="header-section-number">3.2</span> Prevalence Dynamic</h2>
<p>The prevalence dynamics modeling framework provides a structure for various modeling choices one could make to represent social diffusion of behaviors. This framework includes explains which choices could be useful in which socio-ecological contexts. Sustainability provides social science an important challenge to identify principles that could predict how likely different sustainability interventions are to succeed, and to examine how the prevalence of sustainable behaviors change over time.</p>
<p>In this section I explain how this framework can address this challenge by first introducing the <em>prevalence dynamic</em> in a series of forms, starting with the mathematical form. Next in this section, I explain how to create agent-based models of social diffusion using <code>socmod</code>. The prevalence dynamic can be used to create quantitative models of behavior diffusion, generating simulated observations of the prevalence of behaviors over time. We also measure simulated <em>outcomes</em> of whether or not a simulated intervention was <em>successful</em>. Simulations count as successful if all or some large fraction of individuals adopt a sustainable adaptive behavior.</p>
<p>We will apply this framework to generate some important insights for intervention design in the following section, Applications. For now we start by explaining the structure of a social diffusion simulation by first sketching options for representing the social learning process, i.e., the <em>social learning model</em>. The prevalence dynamic is the foundation for quantitative simulations of individuals learning from others over a series of simulated time steps. Simulations can be implemented and analyzed with math or code, also explained in more detail below.</p>
<section id="the-prevalence-dynamic" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="the-prevalence-dynamic"><span class="header-section-number">3.2.1</span> The Prevalence Dynamic</h3>
<p>In these models we assume there are two possible behaviors, or classes of behaviors, that individuals can do. These are called the <em>Adaptive</em> behavior or practice, or behavior <span class="math inline">\(A\)</span> for short. The non-adaptive or maladaptive behavior is the <em>Legacy</em> behavior, i.e., the <em>business-as-usual</em> behavior. An individual who does the adaptive behavior is an <span class="math inline">\(A\)</span>-doer, and one doing the legacy behavior is an <span class="math inline">\(L\)</span>-doer.</p>
<p>To represent interventions, we initialize agent populations with one behavior or the other, specify environmental or ecological conditions such as the apparent benefit of different behaviors, and set agent learning strategies. Learning strategies that we consider are <em>contagion</em> (probabilistic adoption on exposure), <em>success-biased</em> learning (successful individuals are more likely to be chosen as teachers), and <em>conformity</em> or <em>frequency-biased</em> learning (more prevalent behaviors are more likely to be adopted).</p>
<p>The model represents time in steps. On each time step, agents select partners, interact, and update behaviors based on outcomes and learning rules. These steps are repeated until specific conditions or thresholds are met. Stopping conditions are typically specified as when a maximum time step is reached, when the entire population <em>fixates</em> (i.e., all do the same) on one behavior or the other. After the model stops, the dynamics can be inspected or the outcomes can be aggregated across simulations in the case of agent-based modeling.</p>
<div id="fig-abm-sketch" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-abm-sketch-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Figures/clipboard-2271438655.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="850">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-abm-sketch-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.1: Agent-based modeling simulation cycle.
</figcaption>
</figure>
</div>
</section>
<section id="formal-models-of-diffusion" class="level3" data-number="3.2.2">
<h3 data-number="3.2.2" class="anchored" data-anchor-id="formal-models-of-diffusion"><span class="header-section-number">3.2.2</span> Formal models of diffusion</h3>
<p>In the next chapter I explain how to develop various <em>formal</em> models of behavior diffusion that represent changes in <em>prevalence</em> of different behaviors.</p>
<section id="collective-adaptation-through-individual-decisions" class="level4">
<h4 class="anchored" data-anchor-id="collective-adaptation-through-individual-decisions">Collective Adaptation through Individual Decisions</h4>
<p>(EXPLAIN THE MODELING APPROACH, TAKING IT FROM THE INTRODUCTION)</p>
</section>
<section id="agent-based-models-of-diffusion" class="level4">
<h4 class="anchored" data-anchor-id="agent-based-models-of-diffusion">Agent-based models of diffusion</h4>
<p>Agent-based models (ABMs) provide a structured way to explore complex systems by simulating interactions between autonomous <em>agents</em>, i.e., simulated people. In sustainability contexts, ABMs offer a low-cost testbed for understanding how interventions might impact social dynamics and environmental outcomes. For example, <span class="citation" data-cites="Airoldi2024">Airoldi and Christakis (<a href="references.html#ref-Airoldi2024" role="doc-biblioref">2024</a>)</span> demonstrated through regression analysis across that one method for selecting individuals targeted in a public health education campaign worked better than another. They studied over 20,000 individuals across Honduran villages of about 100 people each to reach their findings. Real-world verification of the efficacy of different intervention strategies is important. However, we can also use agent-based models to represent the diffusion of information in simulated populations where interactions are structured by model social networks. We can initialize thousands or millions of simulated villages in which this information could diffuse with different intervention strategies, and observe the distribution of the adoption of sustainable behaviors for each potential intervention strategy. We can then analyze which performed best <em>in silico</em>, which can be helpful if interventions will be taken to different contexts. In other worlds, we can use ABMs to deduce how different learning rules, group identities, and social structures shape sustainability outcomes generally, which can guide our selection of real-world intervention strategies.</p>
<p>We will analyze and draw on several real-world empirical studies of interventions to develop our agent-based models that we in turn will use to simulate interventions in order to <em>deduce</em> which strategies are most effective for <em>social interventions</em> to promote sustainability, and why. A <em>social intervention</em> (or just <em>intervention</em>) for promoting sustainability is any concerted effort where those promoting a sustainable practice introduces information about how to perform that practice to a population. <em>Deductive</em> methods complement regression-based inferential or <em>inductive</em> strategies. Deductive strategies can explain which strategies are most effective and why in idealized, cost-free settings (cost-free at least compared to the cost of real-world social interventions at scale).</p>
<p>Low-cost experimentation with simulated social interventions to promote sustainability are critical. Unless progress is accelerated towards we can expect to “have 575 million people living in extreme poverty, 600 million people facing hunger, and 84 million children and young people out of school. Humanity will overshoot the Paris climate agreement’s 1.5°C ‘safe’ guardrail on…temperature rise. And, at the current rate, it will take 300 years to attain gender equality” <span class="citation" data-cites="Malekpour2023">(<a href="references.html#ref-Malekpour2023" role="doc-biblioref">Malekpour et al. 2023, 250</a>)</span>. Accelerated transformations are required to reach goals necessary to avoid increasingly frequent and costly climate change disasters <span class="citation" data-cites="UnitedNations2023">(<a href="references.html#ref-UnitedNations2023" role="doc-biblioref">United Nations 2023</a>)</span>. It is not plausible to do real-world experiments at the global scale required to infer which strategies work best in which situations.</p>
<p>In this course we will focus on deducing how between different cognitive and social factors, or other initial conditions, affect simulated sustainability intervention outcomes. We will frame our studies in terms of sustainable development goals, but we will never fit our models to observations. Nonetheless, we will strive to develop models that are amenable to real-world interventions against which the models could be fit and predictions could be compared. It seems this is not done too much in practice yet in sustainability. However, some of our colleagues focused on studying basic processes that underlie cultural transmission do exactly this to explain experimental data and archaeological observations <span class="citation" data-cites="Deffner2024">(<a href="references.html#ref-Deffner2024" role="doc-biblioref">Deffner et al. 2024</a>)</span>, which thereby improves their theory, models, and understanding of cultural evolution in a theory-model-observation cycle. With more time and research effort, this cycle may become commonplace in sustainability.</p>
<p>The urgent need to understand how sustainable behaviors spread in order to develop effective interventions pressures social scientists to make social science more rigorous, reliable, and digestible by non-social scientists. In the rest of this Introduction we review cognitive and social theories of social learning, identity and influence, homophily and core-periphery network structures, and preview the remainder of the course material. For an overview of the course feel free to skip ahead to the <a href="#plan">Plan in table format</a>.</p>
</section>
<section id="contagion" class="level4">
<h4 class="anchored" data-anchor-id="contagion">Contagion</h4>
<p>For contagion, adoption occurs when a legacy-doer encounters an adaptive-doer and switches with probability <span class="math inline">\(\alpha\)</span>, while dropping occurs when an adaptive-doer reverts to the legacy behavior with probability <span class="math inline">\(\delta\)</span>, regardless of prevalence.</p>
<ul>
<li><p>Adoption probability:<br>
<span class="math display">\[
P(A \mid L) = \alpha a
\]</span></p></li>
<li><p>Drop probability:<br>
<span class="math display">\[
P(L \mid A) = \delta
\]</span></p></li>
</ul>
<p>Normalizing:</p>
<p><span class="math display">\[
P(A) = (1-a) P(A \mid L) + a P(A \mid A),
\]</span></p>
<p>with <span class="math inline">\(P(A \mid A) = 1 - \delta\)</span>, we obtain the prevalence dynamic</p>
<p><span class="math display">\[
\dot a = \alpha a (1-a) - \delta a.
\]</span></p>
</section>
<section id="success-biased-learning" class="level4">
<h4 class="anchored" data-anchor-id="success-biased-learning">Success-biased Learning</h4>
<p>Adoption depends on both prevalence and relative success.</p>
<ul>
<li><p>Adoption probability:<br>
<span class="math display">\[
P(A \mid L) \propto a f_A
\]</span></p></li>
<li><p>Drop probability:<br>
<span class="math display">\[
P(L \mid A) \propto (1-a) f_L
\]</span></p></li>
</ul>
<p>Normalizing by total “success weight” <span class="math inline">\(\bar f = af_A + (1-a)f_L\)</span>:</p>
<p><span class="math display">\[
P(A) = \frac{a f_A}{\bar f},
\]</span></p>
<p>yielding the prevalence dynamic</p>
<p><span class="math display">\[
\dot a = \frac{a f_A}{\bar f} - a = \frac{a}{\bar f}(f_A - \bar f).
\]</span></p>
</section>
<section id="conformity" class="level4">
<h4 class="anchored" data-anchor-id="conformity">Conformity</h4>
<p>Adoption depends on the relative prevalence of behaviors, weighted by conformity strength <span class="math inline">\(\gamma\)</span>.</p>
<ul>
<li><p>Adoption probability:<br>
<span class="math display">\[
P(A \mid L) \propto a^{1+\gamma}
\]</span></p></li>
<li><p>Drop probability:<br>
<span class="math display">\[
P(L \mid A) \propto (1-a)^{1+\gamma}
\]</span></p></li>
</ul>
<p>Normalizing:</p>
<p><span class="math display">\[
P(A) = \frac{a^{1+\gamma}}{a^{1+\gamma} + (1-a)^{1+\gamma}},
\]</span></p>
<p>so the prevalence dynamic is</p>
<p><span class="math display">\[
\dot a = \frac{a^{1+\gamma}}{a^{1+\gamma} + (1-a)^{1+\gamma}} - a.
\]</span></p>
</section>
</section>
<section id="measuring-collective-adaptation" class="level3" data-number="3.2.3">
<h3 data-number="3.2.3" class="anchored" data-anchor-id="measuring-collective-adaptation"><span class="header-section-number">3.2.3</span> Measuring Collective Adaptation</h3>
<p>To make sense of different learning models, we need to decide what to measure. The prevalence dynamic generates several <strong>observables</strong>: - <strong>Prevalence</strong> of adaptive behavior over time, <span class="math inline">\(a(t)\)</span>.<br>
- <strong>Fitness or success values</strong> of behaviors, if defined (<span class="math inline">\(f_A\)</span>, <span class="math inline">\(f_L\)</span>).<br>
- <strong>Transition probabilities</strong>, such as <span class="math inline">\(P(A \mid L)\)</span> and <span class="math inline">\(P(L \mid A)\)</span>.</p>
<p>From these observables, we define <strong>outcome measures</strong> that summarize how well an adaptive behavior spreads: - <strong>Success rate:</strong> the probability that the adaptive behavior eventually becomes common or dominant.<br>
- <strong>Time to fixation (or last time step):</strong> how long it takes, if ever, for the adaptive behavior to be adopted by everyone.</p>
<p>Studying these outcomes requires what we call a <strong>computational experiment</strong>. A computational experiment specifies a learning model, population assumptions, and initial conditions, then runs the model forward to see what happens. By repeating the experiment under different conditions, we can compare the effects of learning rules, population size, or network structure.</p>
</section>
</section>
<section id="applications" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="applications"><span class="header-section-number">3.3</span> Applications</h2>
<section id="comparing-prevalence-dynamics-across-learning-models" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="comparing-prevalence-dynamics-across-learning-models"><span class="header-section-number">3.3.1</span> Comparing Prevalence Dynamics Across Learning Models</h3>
<ul>
<li>Setup: how to compare models (common framework, limiting cases).<br>
</li>
<li>Formal analysis of limiting cases: <span class="math inline">\(a \approx 0\)</span>, <span class="math inline">\(a \to 0.5^-\)</span>, <span class="math inline">\(a \to 0.5^+\)</span>, <span class="math inline">\(a \to 1\)</span>.<br>
</li>
<li>Conformity and drift: why conformity can only reach fixation through drift; ABM demonstration.</li>
</ul>
</section>
<section id="minoritymajority-asymmetry-without-networks" class="level3" data-number="3.3.2">
<h3 data-number="3.3.2" class="anchored" data-anchor-id="minoritymajority-asymmetry-without-networks"><span class="header-section-number">3.3.2</span> Minority–Majority Asymmetry Without Networks</h3>
<ul>
<li>Asymmetric homophily without explicit network.<br>
</li>
<li>Show how minority size affects diffusion success rate.<br>
</li>
<li>Role of minority group prevalence being nonzero.</li>
</ul>
</section>
<section id="preview-transmission-in-social-networks" class="level3" data-number="3.3.3">
<h3 data-number="3.3.3" class="anchored" data-anchor-id="preview-transmission-in-social-networks"><span class="header-section-number">3.3.3</span> Preview: Transmission in Social Networks</h3>
<ul>
<li>The Medici family as a hub in Renaissance Florence networks.<br>
</li>
<li>Exercise: choosing the best partner for the Medicis to promote solar diffusion; two candidates with equal degree but different network positions.<br>
</li>
<li>Simulation shows why network structure matters beyond simple degree.<br>
</li>
<li>Sets stage for next chapter on network-based diffusion.</li>
</ul>
</section>
</section>
<section id="discussion" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="discussion"><span class="header-section-number">3.4</span> Discussion</h2>
<ul>
<li>Recap key findings: prevalence dynamic as unifying framework; success-bias stronger than conformity; conformity limited to drift.<br>
</li>
<li>Implications for sustainability: importance of education; risks of conformity-heavy interventions; role of minority leaders.<br>
</li>
<li>Theoretical implications: reassessing conformity’s centrality; prevalence dynamic more ergonomic than replicator; commensurability across learning rules.<br>
</li>
<li>Looking ahead: structured populations, ecological variability, richer models.<br>
</li>
<li>Bridge to next chapter: networks matter — Medici example shows why network position, not just number of ties, shapes diffusion.</li>
</ul>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-Airoldi2024" class="csl-entry" role="listitem">
Airoldi, Edoardo M., and Nicholas A. Christakis. 2024. <span>“<span class="nocase">Induction of social contagion for diverse outcomes in structured experiments in isolated villages</span>.”</span> <em>Science</em> 384 (6695). <a href="https://doi.org/10.1126/science.adi5147">https://doi.org/10.1126/science.adi5147</a>.
</div>
<div id="ref-Deffner2024" class="csl-entry" role="listitem">
Deffner, Dominik, Natalia Fedorova, Jeffrey Andrews, and Richard McElreath. 2024. <span>“<span class="nocase">Bridging theory and data: A computational workflow for cultural evolution</span>.”</span> <em>Proceedings of the National Academy of Sciences of the United States of America</em> 121 (48): 1–11. <a href="https://doi.org/10.1073/pnas.2322887121">https://doi.org/10.1073/pnas.2322887121</a>.
</div>
<div id="ref-Malekpour2023" class="csl-entry" role="listitem">
Malekpour, Shirin, Cameron Allen, Ambuj Sagar, Imme Scholz, Åsa Persson, Jaime J. Miranda, Therese Bennich, et al. 2023. <span>“<span class="nocase">What scientists need to do</span>.”</span> <em>Nature</em> 621 (September): 250–54.
</div>
<div id="ref-UnitedNations2023" class="csl-entry" role="listitem">
United Nations. 2023. <span>“<span class="nocase">Times of crisis, times of change: Science for accelerating transformations to sustainable development</span>.”</span> <a href="https://sdgs.un.org/sites/default/files/2023-09/FINAL GSDR 2023-Digital -110923_1.pdf">https://sdgs.un.org/sites/default/files/2023-09/FINAL GSDR 2023-Digital -110923_1.pdf</a>.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./quantitative-techniques.html" class="pagination-link" aria-label="Quantitative Techniques">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Quantitative Techniques</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./cooperation.html" class="pagination-link" aria-label="Cooperative conservation">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Cooperative conservation</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>